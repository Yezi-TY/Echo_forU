# DiffRhythm2 GUI 用户指南

## 简介

DiffRhythm2 GUI 是一个易于使用的音乐生成工具，基于 DiffRhythm2 模型。支持 Web 和桌面应用两种使用方式。

## 快速开始

### Web 版本

1. 启动后端服务：
   ```bash
   ./scripts/start-backend.sh
   # 或 Windows
   scripts\start-backend.bat
   ```

2. 启动前端：
   ```bash
   cd frontend
   pnpm install
   pnpm --filter web dev
   ```

3. 在浏览器中打开 http://localhost:3000

### 桌面版本

1. 构建应用：
   ```bash
   cd frontend/desktop
   pnpm tauri build
   ```

2. 运行生成的安装包

## 使用流程

1. **输入歌词**：在歌词编辑器中输入歌词（支持 LRC 格式）
2. **选择风格**：输入文本描述或上传音频文件作为风格参考
3. **调整参数**（可选）：设置精度、批处理大小等高级参数
4. **生成音乐**：点击生成按钮，等待生成完成
5. **预览和下载**：生成完成后可以预览和下载音频文件

## 功能说明

### 硬件优化

应用会自动检测您的硬件配置，并根据硬件性能调整生成参数：
- GPU 显存充足：使用 FP16 精度，提高生成速度
- GPU 显存不足：自动降低精度或使用 CPU 模式
- 自动预估生成时间和显存需求

### 历史记录

所有生成的音乐都会保存在历史记录中，可以随时查看、播放和下载。

### 设置

在设置页面可以：
- 查看和管理模型状态
- 查看硬件信息
- 调整优化设置
- 切换语言

## 常见问题

### 后端连接失败

确保后端服务已启动，检查端口 8000 是否被占用。

### 生成速度慢

- 检查是否使用了 GPU
- 尝试降低精度设置
- 减少批处理大小

### 显存不足

- 使用 INT8 精度
- 将批处理大小设为 1
- 考虑使用 CPU 模式

## 技术支持

如有问题，请查看项目 README 或提交 Issue。

